{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","App.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","components/ImageGallery/ImageGallery.tsx","components/ImageGalleryItem/ImageGalleryItem.tsx","components/Searchbar/Searchbar.tsx","components/Button/Button.tsx","components/Modal/Modal.tsx","components/Loader/Loader.tsx","App.tsx","index.tsx","components/Searchbar/Searchbar.module.css"],"names":["module","exports","ImageGallery","children","className","S","ImageGalleryItem","webformatURL","openModal","largeImageURL","GalleryItem","onClick","src","alt","Image","Searchbar","onSubmit","useState","keyword","setKeyword","SearchForm","e","preventDefault","trim","toast","error","type","Button","ButtonLabel","Input","name","value","onChange","currentTarget","autoComplete","autoFocus","placeholder","onLoadMore","modalRoot","document","querySelector","Modal","onClose","useEffect","window","addEventListener","handleKeyDown","removeEventListener","code","createPortal","Overlay","target","Loader","color","height","width","App","pictures","setPictures","page","setPage","largeURL","setLargeURL","loading","setLoading","showModal","setShowModal","responseAPI","scrollTo","top","documentElement","scrollHeight","behavior","fetch","then","res","json","totalHits","Promise","reject","Error","getPictures","catch","err","message","finally","obj","arrPictures","hits","map","item","id","state","openModalPicture","url","str","length","autoClose","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.a6941c1b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"GalleryItem\":\"ImageGalleryItem_GalleryItem__342ak\",\"Image\":\"ImageGalleryItem_Image__39uaN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__bFYv8\",\"Modal\":\"Modal_Modal__2jlzQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__2f4k1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2HVPC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__GHsW1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__2w6_a\"};","import React from \"react\";\r\nimport S from \"./ImageGallery.module.css\";\r\n\r\ninterface PropsType {\r\n  children: React.ReactChild | React.ReactNode;\r\n}\r\n\r\nconst ImageGallery: React.FC<PropsType> = ({ children }) => {\r\n  return <ul className={S.ImageGallery}>{children}</ul>;\r\n};\r\nexport default ImageGallery;\r\n","import React from \"react\";\r\n\r\nimport S from \"./ImageGalleryItem.module.css\";\r\ntype Picture = {\r\n  key: number;\r\n  largeImageURL: string;\r\n  webformatURL: string;\r\n  openModal: any;\r\n};\r\n\r\nconst ImageGalleryItem: React.FC<Picture> = ({ webformatURL, openModal, largeImageURL}) => {\r\n  return (\r\n    <li className={S.GalleryItem}  onClick={() => openModal(largeImageURL)}>\r\n      <img src={webformatURL} alt=\"Gallery item\" className={S.Image} />\r\n    </li>\r\n  );\r\n};\r\nexport default ImageGalleryItem;\r\n","import React, { useState } from \"react\";\r\nimport { ImSearch } from \"react-icons/im\";\r\nimport S from \"./Searchbar.module.css\";\r\nimport { toast } from \"react-toastify\";\r\n\r\ninterface propsType {\r\n  onSubmit: any;\r\n}\r\n\r\nconst Searchbar: React.FC<propsType> = ({ onSubmit }) => {\r\n  const [keyword, setKeyword] = useState<string>(\"\");\r\n\r\n  const handleInputChang = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setKeyword(e.currentTarget.value);\r\n  };\r\n\r\n  const handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n    if (keyword.trim() === \"\") {\r\n      toast.error(\"Enter a word\");\r\n      return;\r\n    }\r\n    onSubmit(keyword);\r\n  };\r\n\r\n  return (\r\n    <header className={S.Searchbar}>\r\n      <form className={S.SearchForm} onSubmit={handleSubmit}>\r\n        <button type=\"submit\" className={S.Button}>\r\n          <ImSearch />\r\n          <span className={S.ButtonLabel}>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className={S.Input}\r\n          name=\"keyword\"\r\n          value={keyword}\r\n          type=\"text\"\r\n          onChange={handleInputChang}\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n};\r\nexport default Searchbar;\r\n","import React from \"react\";\r\nimport S from \"./Button.module.css\"\r\n\r\nconst Button: React.FC<any> = ({onLoadMore}) => (\r\n  <button type=\"button\" onClick={onLoadMore} className={S.Button}>Load more</button>\r\n)\r\nexport default Button;\r\n","import React, { useEffect } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport S from \"./Modal.module.css\";\r\n\r\nconst modalRoot: any = document.querySelector(\"#modal-root\");\r\n\r\ninterface PropsType {\r\n  onClose: any;\r\n  children: React.ReactChild | React.ReactNode;\r\n}\r\nconst Modal: React.FC<PropsType> = ({ onClose, children }) => {\r\n  useEffect(() => {\r\n    window.addEventListener(\"keydown\", handleKeyDown);\r\n    return () => {\r\n      window.removeEventListener(\"keydown\", handleKeyDown);\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const handleKeyDown = (e: KeyboardEvent) => {\r\n    if (e.code === \"Escape\") {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  const handleBackdropClick = (e: React.MouseEvent) => {\r\n    if (e.currentTarget === e.target) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  return createPortal(\r\n    <div className={S.Overlay} onClick={handleBackdropClick}>\r\n      <div className={S.Modal}>{children}</div>\r\n    </div>,\r\n    modalRoot\r\n  );\r\n};\r\nexport default Modal;\r\n","import React from 'react';\r\nimport Spinner from 'react-loader-spinner';\r\nimport S from \"./Loader.module.css\"\r\n\r\n const Loader = () => (\r\n  <div className={S.Loader}>\r\n    <Spinner\r\n            type=\"TailSpin\"\r\n            color=\"#00BFFF\"\r\n            height={80}\r\n            width={80}\r\n          />\r\n  </div>\r\n);\r\nexport default Loader","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport S from \"./App.module.css\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n\r\nimport ImageGallery from \"./components/ImageGallery\";\r\nimport ImageGalleryItem from \"./components/ImageGalleryItem\";\r\nimport Searchbar from \"./components/Searchbar\";\r\nimport Button from \"./components/Button\";\r\nimport Modal from \"./components/Modal\";\r\nimport Loader from \"./components/Loader\";\r\n\r\ntype Picture = {\r\n  id: number;\r\n  webformatURL: string;\r\n  largeImageURL: string;\r\n};\r\n\r\nconst App: React.FC = () => {\r\n  const [pictures, setPictures] = useState<Picture[]>([]);\r\n  const [keyword, setKeyword] = useState<string>(\"\");\r\n  const [page, setPage] = useState<number>(1);\r\n  const [largeURL, setLargeURL] = useState<string>(\"\");\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n  const [showModal, setShowModal] = useState<boolean>(false);\r\n\r\n  useEffect(() => {\r\n    if (keyword !== \"\") {\r\n      responseAPI(keyword, page);\r\n    }\r\n  }, [keyword, page]);\r\n\r\n  useEffect(() => {\r\n    if (page !== 1) {\r\n      window.scrollTo({\r\n        top: document.documentElement.scrollHeight,\r\n        behavior: \"smooth\",\r\n      });\r\n    }\r\n  }, [pictures]);\r\n\r\n  const responseAPI = (keyword: string, page: number) => {\r\n    const BASE_URL = \"https://pixabay.com/api/\";\r\n    const API_KEY = \"22997657-91d4620e666f378f8f41767fa\";\r\n    setLoading(true);\r\n    fetch(\r\n      `${BASE_URL}?q=${keyword}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\r\n    )\r\n      .then((res) => res.json())\r\n      .then((res) => {\r\n        if (res.totalHits === 0) {\r\n          return Promise.reject(\r\n            new Error(\"No images matching the search string\")\r\n          );\r\n        }\r\n        return res;\r\n      })\r\n\r\n      .then((res) => getPictures(res))\r\n      .catch((err) => {\r\n        toast.error(err.message);\r\n      })\r\n      .finally(() => setLoading(false));\r\n  };\r\n\r\n  const getPictures = (obj: any) => {\r\n    const arrPictures: Picture[] = obj.hits.map((item: Picture) => {\r\n      return {\r\n        id: item.id,\r\n        webformatURL: item.webformatURL,\r\n        largeImageURL: item.largeImageURL,\r\n      };\r\n    });\r\n\r\n    setPictures((state) => {\r\n      return [...state, ...arrPictures];\r\n    });\r\n  };\r\n\r\n  const resetState = (str: string) => {\r\n    if (str === keyword) return;\r\n    setKeyword(str);\r\n    setPage(1);\r\n    setPictures([]);\r\n  };\r\n\r\n  const onLoadMore = () => {\r\n    setPage((state) => state + 1);\r\n  };\r\n\r\n  const toggleModal = (): void => {\r\n    setShowModal((state) => !state);\r\n  };\r\n\r\n  const openModalPicture = (url: string) => {\r\n    setLargeURL(url);\r\n    setShowModal(true);\r\n  };\r\n\r\n  return (\r\n    <div className={S.App}>\r\n      <Searchbar onSubmit={resetState} />\r\n\r\n      {loading && <Loader />}\r\n      <ImageGallery>\r\n        {pictures.map((item: Picture) => (\r\n          <ImageGalleryItem\r\n            key={item.id}\r\n            largeImageURL={item.largeImageURL}\r\n            webformatURL={item.webformatURL}\r\n            openModal={openModalPicture}\r\n          />\r\n        ))}\r\n      </ImageGallery>\r\n      {pictures.length % 12 === 0 && pictures.length !== 0 && (\r\n        <Button onLoadMore={onLoadMore} />\r\n      )}\r\n\r\n      {showModal && (\r\n        <Modal onClose={toggleModal}>\r\n          <img src={largeURL} alt=\"\" />\r\n        </Modal>\r\n      )}\r\n\r\n      <ToastContainer autoClose={3000} />\r\n    </div>\r\n  );\r\n};\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3UscK\",\"SearchForm\":\"Searchbar_SearchForm__2tGTj\",\"SearchForm-button\":\"Searchbar_SearchForm-button__3Htpe\",\"Button\":\"Searchbar_Button__dK0iO\",\"ButtonLabel\":\"Searchbar_ButtonLabel__EnTaG\",\"Input\":\"Searchbar_Input__1blVj\"};"],"sourceRoot":""}